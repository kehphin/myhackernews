<h1>Profile</h1>

{{currentUser}}

<h1>Update Profile</h1>
<input ng-model="currentUser.username" class="form-control"/><br/>
<input ng-model="currentUser.password" class="form-control" type="password"/><br/>
<input ng-model="currentUser.firstName" class="form-control"/><br/>
<input ng-model="currentUser.lastName" class="form-control"/><br/>
<input ng-model="currentUser.email" class="form-control"/><br/>
<button ng-click="update(currentUser)">Update</button>

<div ng-show="currentUser.roles.indexOf('admin') > -1">
    <h1>Admin</h1>
    <h2>User List</h2>    
    <table class="table table-striped">
        <tr>
            <td>&nbsp;</td>
            <td><input ng-model="user.username" class="form-control"/></td>
            <td><input ng-model="user.password" class="form-control" type="password"/></td>
            <td><input ng-model="user.firstName" class="form-control"/></td>
            <td><input ng-model="user.lastName" class="form-control"/></td>
            <td><input ng-model="user.email" class="form-control"/></td>
            <td><input ng-model="user.roles" class="form-control"/></td>
            <td><button ng-click="add(user)">&plus;</button>
            <td><button ng-click="update(user)">&check;</button>
        </tr>
            
        </tr>
        <tr ng-repeat="user in users">
            <td>{{user._id}}</td>
            <td>{{user.username}}</td>
            <td>&nbsp;</td>
            <td>{{user.firstName}}</td>
            <td>{{user.lastName}}</td>
            <td>{{user.email}}</td>
            <td>{{user.roles}}</td>
            <td><button ng-click="remove(user)">X</button>
            <td><button ng-click="select(user)">...</button>
        </tr>
    </table>
</div>